Obiettivo: aggiungere conferma email e recupero password.

ğŸ“‚ File/Cartelle:
- `src/api/auth/verify-email.js`
- `src/api/auth/reset-password.js`
- Frontend: `VerifyEmail.jsx`, `ForgotPassword.jsx`, `ResetPassword.jsx`

ğŸ“‹ Azioni:
1. Su registrazione, invia email con link `https://in-out.com/auth/verify-email?token=...`.
2. API `GET /api/auth/verify-email?token=` decodifica JWT e attiva user.
3. â€œForgot Passwordâ€: invia link JWT a `/auth/reset-password`.
4. â€œReset Passwordâ€ page chiede nuova password, chiama `POST /api/auth/reset-password`.
5. Test: registra utente, verifica email, reset password con link.
Prompt 12 â€“ Audit Trail
plaintext
Copia
ğŸ”§ Obiettivo: registrare azioni critiche in tabella `audit_logs`.

ğŸ“‚ File/Cartelle:
- DB migrazione: `migrations/1620005000_create_audit_logs.sql`
- Middleware: `src/middleware/audit.js`

ğŸ“‹ Azioni:
1. **DB**  
   ```sql
   CREATE TABLE audit_logs (
     id SERIAL PRIMARY KEY,
     user_id UUID,
     action TEXT,
     details JSONB,
     created_at TIMESTAMP DEFAULT NOW()
   );
Middleware (audit.js)

js
Copia
export function audit(action, details) {
  return async (req, res, next) => {
    await db.insert('audit_logs', { user_id: req.auth.uid(), action, details });
    next();
  };
}
Applica a route sensibili (/api/admin/remove-announcement, /api/auth/login, etc.).

Test: esegui operazione e verifica record in audit_logs.

yaml
Copia

---

### Prompt 13 â€“ FAQ / Knowledge Base  
```plaintext
ğŸ”§ Obiettivo: creare sezione FAQ dinamica con contenuti JSON.

ğŸ“‚ File/Cartelle:
- `data/faqs.json`
- `pages/faq.js`
- `src/components/FAQList.jsx`

ğŸ“‹ Azioni:
1. Crea `data/faqs.json`:
   ```json
   [
     { "q": "Come cerco un annuncio?", "a":"Usa la barra di ricerca con cittÃ  e filtri." },
     ...
   ]
In pages/faq.js, importa JSON e passa a FAQList.

FAQList.jsx mostra accordions per ogni Q/A.

Test: naviga /faq, clicca su domande, verifica apertura.

yaml
Copia

---

### Prompt 14 â€“ Live Chat / Ticket System  
```plaintext
ğŸ”§ Obiettivo: integrare Crisp o Zendesk per supporto .

ğŸ“‚ File/Cartelle:
- `_document.js` (script snippet)

ğŸ“‹ Azioni:
1. Crea account su Crisp (https://crisp.chat).
2. Copia snippet JS fornit o in `<Head>` di `pages/_document.js`:
   ```html
   <script type="text/javascript">window.$crisp=[]; /* ... */</script>
Test: apri sito, verifica widget chat in basso.

yaml
Copia

---

### Prompt 15 â€“ Onboarding Video / Guide Interattive  
```plaintext
ğŸ”§ Obiettivo: aggiungere video tutorial o guide popâ€‘up.

ğŸ“‚ File/Cartelle:
- `public/tutorial.mp4`
- `src/components/TutorialModal.jsx`

ğŸ“‹ Azioni:
1. `TutorialModal.jsx`: modal con `<video src="/tutorial.mp4" controls />`.
2. Trigger da navbar â€œGuidaâ€ o primo login.
3. Test: clic â€œGuidaâ€, modal si apre con video.

Prompt 16 â€“ Error Tracking (Sentry)
plaintext
Copia
ğŸ”§ Obiettivo: integrare Sentry per errori client e server.

ğŸ“‚ File/Cartelle:
- `src/utils/sentry.js`
- `src/index.jsx`, `src/server.js`

ğŸ“‹ Azioni:
1. Installa: `npm install @sentry/react @sentry/node @sentry/tracing`.
2. Client in `index.jsx`, Server in `server.js` (vedi prompt precedente).
3. Test: lancia `throw new Error('Test Sentry')` e verifica evento in Sentry dashboard.

Prompt 17 â€“ Performance Monitoring (Datadog/New Relic)
plaintext
Copia
ğŸ”§ Obiettivo: monitorare TTFB, LCP, FID con Datadog RUM o New Relic Browser.

ğŸ“‚ File/Cartelle:
- Snippet JS in `_document.js` o `_app.js`

ğŸ“‹ Azioni:
1. Crea account RUM Datadog, copia snippet:
   ```html
   <script>
     // Datadog RUM init
   </script>
Incollalo in <Head> di _document.js.

Test: visita pagine e controlla metriche in Datadog.

yaml
Copia

---

### Prompt 18 â€“ KPI Dashboard  
```plaintext
ğŸ”§ Obiettivo: creare dashboard custom con Recharts in area Admin.

ğŸ“‚ File/Cartelle:
- `src/components/AdminKPIs.jsx`
- API: `src/api/admin/kpis.js`

ğŸ“‹ Azioni:
1. API `GET /api/admin/kpis` ritorna JSON con:
   `{ signupsLast30Days, announcementsLast30Days, avgSessionTime }`
2. `AdminKPIs.jsx` mostra:
   - BarChart `signupsLast30Days`
   - LineChart `announcementsLast30Days`
   - Statistic card `avgSessionTime`
3. Test: popola DB con dati demo, verifica grafici.

