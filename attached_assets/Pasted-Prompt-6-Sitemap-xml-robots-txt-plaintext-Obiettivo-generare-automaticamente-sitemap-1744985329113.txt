Prompt 6 â€“ Sitemap.xml & robots.txt  
```plaintext
ğŸ”§ Obiettivo: generare automaticamente `sitemap.xml` e `robots.txt`.

ğŸ“‚ File/Cartelle:
- `scripts/generate-sitemap.js`
- Root `public/robots.txt`

ğŸ“‹ Azioni:
1. Installa `npm install --save-dev sitemap`
2. In `scripts/generate-sitemap.js`:
   ```js
   const { SitemapStream, streamToPromise } = require('sitemap');
   const fs = require('fs');
   const announcements = await db.query('SELECT id, updated_at FROM announcements');
   const smStream = new SitemapStream({ hostname: 'https://in-out.com' });
   announcements.forEach(a => smStream.write({ url: `/annunci/${a.id}`, lastmodISO: a.updated_at.toISOString() }));
   smStream.end();
   const sitemap = await streamToPromise(smStream);
   fs.writeFileSync('./public/sitemap.xml', sitemap);
Aggiungi script in package.json: "postbuild": "node scripts/generate-sitemap.js"

Crea public/robots.txt:

makefile
Copia
User-agent: *
Allow: /
Sitemap: https://in-out.com/sitemap.xml
Test: build + verifica sitemap.xml e robots.txt su produzione.

php-template
Copia

---

### Prompt 7 â€“ Google Analytics / Mixpanel Integration  
```plaintext
ğŸ”§ Obiettivo: tracciare eventi chiave con Google Analytics 4 o Mixpanel.

ğŸ“‚ File/Cartelle:
- `src/utils/analytics.js`
- `pages/_app.js`

ğŸ“‹ Azioni:
1. Installa GA4: includi script in `<Head>` di `_document.js`:
   ```html
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXX"></script>
   <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     gtag('config', 'G-XXXXXX');
   </script>
In analytics.js, esporta trackEvent(name, params) che chiama gtag('event', name, params).

Chiama trackEvent('search', { city, filters }) in SearchBar.jsx, trackEvent('contact_click', {...}) in Detail.jsx.

Test: verifica in realtime di GA che compaiono eventi.

ruby
Copia

---

### Prompt 8 â€“ Blog / Content Hub  
```plaintext
ğŸ”§ Obiettivo: aggiungere una sezione blog con post CMSâ€‘style.

ğŸ“‚ File/Cartelle:
- `pages/blog/index.js`
- `pages/blog/[slug].js`
- `content/posts/*.md`

ğŸ“‹ Azioni:
1. Usa MDX: `npm install @next/mdx @mdx-js/loader`
2. In `next.config.js` abilita MDX:
   ```js
   const withMDX = require('@next/mdx')({ extension: /\.mdx?$/ });
   module.exports = withMDX({ pageExtensions: ['js','jsx','mdx'] });
Crea content/posts/first-post.mdx con frontmatter title, date, author.

In pages/blog/index.js usa fs per leggere file e generare lista.

In pages/blog/[slug].js importa MDX e renderizza.

Aggiungi link â€œBlogâ€ in Navbar.

Test: crea due post e verifica navigazione blogâ†’post.

yaml
Copia

---

### Prompt 9 â€“ Cookie Banner & GDPR  
```plaintext
ğŸ”§ Obiettivo: mostrare banner cookie e gestire optâ€‘in.

ğŸ“‚ File/Cartelle:
- `src/components/CookieBanner.jsx`
- Storage localStorage

ğŸ“‹ Azioni:
1. Crea `CookieBanner.jsx` con checkbox â€œAccetto cookies di trackingâ€.
2. Salva scelta in `localStorage.setItem('cookieConsent', true/false)`.
3. In `_app.js`, prima di caricare Analytics, verifica `cookieConsent === 'true'`.
4. Stili: banner bottom fixed con pulsante â€œAccettaâ€.
5. Test: ricarica pagina, banner scompare se accettato e Analytics si attiva.
Prompt 10 â€“ Pagine Legali (TOS, Privacy, Cookie)
plaintext
Copia
ğŸ”§ Obiettivo: creare pagine statiche per Termini, Privacy e Cookie.

ğŸ“‚ File/Cartelle:
- `pages/terms.js`, `pages/privacy.js`, `pages/cookie-policy.js`
- Link in footer di `_app.js`

ğŸ“‹ Azioni:
1. In ogni pagina, inserisci contenuti legali base (bozza TOS, informativa GDPR).
2. Aggiungi `<Link href="/terms">Termini</Link>` ecc. in `<Footer />`.
3. Stili coerenti con il design esistente.
4. Test: verifica link footer â†’ pagina legale caricata.
