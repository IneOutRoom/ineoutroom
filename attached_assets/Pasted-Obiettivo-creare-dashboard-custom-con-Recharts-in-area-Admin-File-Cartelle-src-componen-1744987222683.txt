Obiettivo: creare dashboard custom con Recharts in area Admin.

ğŸ“‚ File/Cartelle:
- `src/components/AdminKPIs.jsx`
- API: `src/api/admin/kpis.js`

ğŸ“‹ Azioni:
1. API `GET /api/admin/kpis` ritorna JSON con:
   `{ signupsLast30Days, announcementsLast30Days, avgSessionTime }`
2. `AdminKPIs.jsx` mostra:
   - BarChart `signupsLast30Days`
   - LineChart `announcementsLast30Days`
   - Statistic card `avgSessionTime`
3. Test: popola DB con dati demo, verifica grafici.

Prompt 19 â€“ Wishlist / Favoriti
plaintext
Copia
ğŸ”§ Obiettivo: salvare annunci preferiti.

ğŸ“‚ File/Cartelle:
- Migration, API e componenti (vedi prompt C1)

ğŸ“‹ Azioni:
- Implementa come da prompt C1
- Test di salvataggio/rimozione e visualizzazione in dashboard.

Prompt 20 â€“ Notifications Email / Push
plaintext
Copia
ğŸ”§ Obiettivo: notifiche per nuovi annunci in zone salvate.

ğŸ“‚ File/Cartelle:
- `src/services/notificationService.js`
- API: `/api/notifications`
- Frontend hook `useNotifications.js`

ğŸ“‹ Azioni:
1. Crea job cron ogni 15â€™ che:
   - Per ogni zone salvata verifica nuovi annunci
   - Invia email via nodemailer o push via `web-push`
2. Frontend chiede permessi e salva subscription.
3. Test: salva zona e crea annuncio via seed, verifica notifica.

Prompt 21 â€“ Calendar Integration
plaintext
Copia
ğŸ”§ Obiettivo: integra Google Calendar per appuntamenti visite.

ğŸ“‚ File/Cartelle:
- API `src/api/calendar.js`
- Frontend `ScheduleVisit.jsx`

ğŸ“‹ Azioni:
1. Abilita Google Calendar API e OAuth.
2. In `calendar.js`, usa `googleapis` per:
   - `POST /api/calendar/create-event` con creds OAuth2.
3. In `ScheduleVisit.jsx`, bottone â€œAggiungi a Calendarâ€:
   ```js
   fetch('/api/calendar/create-event',{ method:'POST', body:{ slot, summary } });
Test: crea evento e verifica su Google Calendar.

yaml
Copia

---

### Prompt 22 â€“ Referral & Promo Codes  
```plaintext
ğŸ”§ Obiettivo: generare codici promozionali e applicarli al checkout.

ğŸ“‚ File/Cartelle:
- Migration e API (`referrals` e `promocodes`)
- Frontend `PromoCodeInput.jsx`

ğŸ“‹ Azioni:
1. Table `promo_codes(id, code, discount, expires_at, usage_limit)`
2. API `POST /api/promocodes/validate` che:
   - Controlla `code`, scadenza, limit.
   - Ritorna `{ valid: true, discount }`
3. `PromoCodeInput.jsx`: campo + validate onBlur.
4. Test: crea promo â€œTEST10â€, applica al checkout, verifica 10% di sconto.

